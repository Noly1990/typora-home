### Linux是什么

> Linux 内核由Torvalds在1991年时候完成。

#### Linux的内核版本

一个常见的版本号如下：

​	**3.10.0-123.e17.x86-64**

​	主版本.次版本.发布版本-修改版本

3.0之前，主次版本为奇数的为开发版本，主次版本未偶数的为稳定版本

3.0之后，则分为主线版本，长期维护版本

本机的一个内核版本如下

```bash
uname -r
5.8.0-38-generic x86_64
```

 

#### Linux的发行版本

* RPM方式安装软件

  RHEL(Red Hat)

  SUSE(Micro Focus)

  Fedora

  CentOS

  openSUSE

* DPKG方式安装软件

  Ubuntu

  Debian

  B2D

* Gentoo



#### 主机硬件及磁盘规划

>在Linux系统中，每个设备都被当成一个文件来对待。

磁盘驱动器及U盘都在 **/dev/sd[a-p]**

打印机 **/dev/lp[0-2]** 或 **/dev/usb/lp[0-15]**



##### 磁盘分区表

* MBR(MS-DOS) - Master Boot Record 

  启动引导程序记录（446字节）和分区表（64字节）都放在第一扇区，这个扇区通常都是512字节大小

  分区是以柱面为单位的连续磁盘空间

  分区就是对64字节的分区表进行操作设置

  分区的最小单位是硬盘柱面（Cylinder）

  分区分成主要分区或者扩展分区

  2.2TB的容量限制，MBR仅有一个区块，若该区块损坏，则难以恢复，MBR的程序引导区容量只有446字节，无法存储更多的程序代码

* GPT（GUID partition table）

  扇区定义上，以LBA（Logical Block Address）来处理，

  * LBA0：MBR兼容区块

  * LBA1：GPT表头记录

  * LBA2-33：实际记录分区信息处

    每个LBA可以记录4组分区记录，默认可以记录4*32 = 128组分区记录容量限制在8ZB=8 * 2的30次方TB。

  * 最后34LBA是一组备份

grub2才支持GPT，grub第一版不支持GPT

fdisk不支持GPT，gdisk或parted才支持GPT

##### 启动流程-BIOS和UEFI

CMOS是主板上存数硬件参数的一个存储器。

BIOS是写入到主板上的一个用于启动的软件程序，是计算机启动后主动执行的第一个程序。

完整的启动流程

1. BIOS：启动主动执行固件，识别第一个可启动的设备。
2. MBR：第一个可启动设备的第一个扇区的主引导记录块，内含启动引导代码
3. 启动引导程序（boot loader）：一个用于读取操作系统内核文件来执行的程序
4. 内核文件：开始启动操作系统



###### boot loader的作用

* 提供不同的启动选项
* 加载内核文件：直接指向可使用的程序区段来启动操作系统
* 转交其他启动引导程序：将启动引导功能转交给其他启动引导程序负责



##### UEFI （Unified extensible Firmware Interface）

类似于一个低阶操作系统

以C语言开发，直接加载驱动程序，有着较为通用的跨平台支持能力

有secure boot功能



#### Linux安全模式下，磁盘分区的选择

* Linux 目录树结构

  所有的文件都由根目录（/）衍生而来

* 文件系统与目录树关系

  将磁盘分区挂载在某一个目录下，当成一个入口。